---
layout: post
title: Received My First Pull Request!
author: Chip
image: https://2.bp.blogspot.com/-4IUOZioqhds/WGp-2waWV3I/AAAAAAAAEGM/-ZzuThPIVdIRJrU8y2E9JrpHmRTx1eu2ACK4B/s640/GitHub%2BScreenshot.png
---


<div style="text-align: left;">After my post about my <a href="http://openaudio.blogspot.com/2016/12/extending-teensy-audio-library-for.html">floating-point extension of the Teensy Audio Library</a>, I received my first Pull Request!&nbsp; Someone besides me is working on the library, and that is such a complement.&nbsp; Thanks, <a href="https://github.com/patrick-radius">@patrick-radius</a>!</div><br /><div class="separator" style="clear: both; text-align: center;"></div><div style="text-align: center;"><div style="text-align: center;"><a href="http://2.bp.blogspot.com/-4IUOZioqhds/WGp-2waWV3I/AAAAAAAAEGM/-ZzuThPIVdIRJrU8y2E9JrpHmRTx1eu2ACK4B/s1600/GitHub%2BScreenshot.png" imageanchor="1"><img border="0" height="270" src="https://2.bp.blogspot.com/-4IUOZioqhds/WGp-2waWV3I/AAAAAAAAEGM/-ZzuThPIVdIRJrU8y2E9JrpHmRTx1eu2ACK4B/s640/GitHub%2BScreenshot.png" width="540" /></a></div><br /><div style="text-align: left;"><u>Converting Existing Blocks to F32:</u>&nbsp; For his first contributions, Patrick created AudioMixer4_F32 and AudioMultiply_F32. &nbsp;His approach was to take blocks from the existing <a href="https://www.pjrc.com/teensy/td_libs_Audio.html">Teensy Audio Library</a>&nbsp;(their GitHub is <a href="https://github.com/PaulStoffregen/Audio">here</a>) and create F32 versions. &nbsp;Since many people are already familiar with the Teensy Audio Library, this is a great approach for quickly adding more floating-point capability to the library (and to your own project!).</div><div style="text-align: left;"><br /></div><div style="text-align: left;"><div style="text-align: left;"><u>Suggestions:</u>&nbsp; If you want to make your own contributions to this floating-point library, I'd be very happy to receive them. &nbsp;Like Patrick, following the model of the Teensy Audio Library is a great approach. &nbsp;You could follow both the conventions as well as the style of the Teensy Audio Library. &nbsp;The primary convention that is different with my F32 library is that:</div></div><ul><li style="text-align: left;">Full-scale for the floating-point algorithms is&nbsp;+/-1.0 instead of +/-32768. &nbsp;So, if you are copying algorithms from the Teensy Audio Library, you don't need to include scale factors or gain limits with values such as 32768 or 255 or 127.</li></ul><div style="text-align: left;">Furthermore, if you want to contribute to my library, may I suggest that you be sure to:</div><ul><li style="text-align: left;">In your *.h file, include a comment block at the top that identifies the name of the class and you as the creator. &nbsp;For an example of such a header, see&nbsp;<a href="http://audioeffectgain_f32.h/">AudioEffectGain_F32.h</a>.</li><li style="text-align: left;">Once your class works, be sure to put an #include for your *,.h file into the library's overall header file: <a href="https://github.com/chipaudette/OpenAudio_ArduinoLibrary/blob/master/OpenAudio_ArduinoLibrary.h">OpenAudio_ArduinoLibrary.h</a>. &nbsp;Also, add your class as a keyword in <a href="http://keywords.txt/">keywords.txt</a>.</li></ul><div><div style="text-align: left;"><u>Example Sketch:</u>&nbsp; When contributing audio blocks, consider making an example sketch so that I (and others) can see how it works. &nbsp;Your example sketch should go in the <a href="https://github.com/chipaudette/OpenAudio_ArduinoLibrary/tree/master/examples">examples </a>directory of this library. &nbsp;</div></div><div><div style="text-align: left;"><br /></div></div><div><div style="text-align: left;"><u>Stereo to Mono Example:</u>&nbsp; Patrick did not include an example sketch with his contributions, so I made one. &nbsp;I made an example using his &nbsp; My example, &nbsp;<a href="https://github.com/chipaudette/OpenAudio_ArduinoLibrary/tree/master/examples/MixStereoToMono_Float">MixStereoToMono_Float</a>, uses his new AudioMixer4_F32 class to take a two-channel (ie, stereo) input&nbsp;and mix them into a single-channel (ie, mono) output. &nbsp;By including such an example, a new person can see how to use your new audio processing block.</div></div><div><div style="text-align: left;"><br /></div></div><div style="text-align: left;"><u>Testing Using Audacity:</u>&nbsp; To test my example sketch, I used <a href="http://www.audacityteam.org/">Audacity </a>to generate some test audio and to send the audio to my Teensy 3.6 via the <a href="http://openaudio.blogspot.com/2016/10/teensy-audio-over-usb.html">Teeny's USB audio connection</a>. &nbsp;For my test audio, I created an upward sweeping chirp for the left channel and I created a steady 2 kHz tone for the right channel. &nbsp;In the screenshot below, the yellow arrows point to the panning controls that I used to force my audio into the left and right channels. <br /><br /><div style="text-align: center;"><a href="http://4.bp.blogspot.com/-OsJWQHf_tec/WGqGLZXOlrI/AAAAAAAAEHA/ZGdbWfpJDaYWh2DIthVSr6MFVupM19qyQCK4B/s1600/AudacityScreenShot.png" imageanchor="1"><img border="0" height="494" src="https://4.bp.blogspot.com/-OsJWQHf_tec/WGqGLZXOlrI/AAAAAAAAEHA/ZGdbWfpJDaYWh2DIthVSr6MFVupM19qyQCK4B/s640/AudacityScreenShot.png" width="540" /></a></div><br /><u>Result:</u>&nbsp; Hitting the record button, Audacity played the stereo audio out to the Teensy while simultaneously recording the audio being output by the Teensy. &nbsp;As you can see, the audio produced by the Teensy was the mixture of the left and right inputs. &nbsp;Success!<br /><br /><u>Many Thanks:</u>&nbsp;&nbsp;I'm so appreciative for Patrick's high-quality contributions to this library. &nbsp;Many, many thanks. &nbsp;And, from him or from anyone elese, I greatly look forward to additional Pull Requests!<br /><br /></div></div>
