---
layout: post
title: Microphone Self-Noise
author: Chip
image: https://3.bp.blogspot.com/-LEVeN9kaCWg/W3s2q-IF58I/AAAAAAAAFJQ/36xetbP1jNEbzQ81w3LezD_ggWAdFTa-gCLcBGAs/s400/MicSelfNoise.png
---


A hearing assistive device must not be noisy.&nbsp; At minimum, noise will be annoying.&nbsp; At worst, noise will harm, not help a person's ability to hear.&nbsp; So, for our Tympan device, I want to make sure that it has low self-noise.&nbsp; In this post, I show how the microphone that you choose can strongly affect the apparent noise of your system.&nbsp; Spoiler: be careful with lapel mics because they can be very noisy!<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-LEVeN9kaCWg/W3s2q-IF58I/AAAAAAAAFJQ/36xetbP1jNEbzQ81w3LezD_ggWAdFTa-gCLcBGAs/s1600/MicSelfNoise.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="453" data-original-width="604" height="300" src="https://3.bp.blogspot.com/-LEVeN9kaCWg/W3s2q-IF58I/AAAAAAAAFJQ/36xetbP1jNEbzQ81w3LezD_ggWAdFTa-gCLcBGAs/s400/MicSelfNoise.png" width="400" /></a></div><br /><u>Goal:</u>&nbsp; I want to measure the self-noise of different microphones in combination with the Tympan.<br /><br /><u>Approach:</u>&nbsp; My approach is to first calibrate the Tympan when using each microphone.&nbsp; That way, when comparing between microphones, I'm comparing apples-to-apples.&nbsp; Once calibrated, I will put the devices in a super-quiet environment and make ambient sound recordings.&nbsp; The super-quiet environment will probably be so quiet that recordings will reveal the self-noise of the microphones.<br /><br /><u>Hardware:</u>&nbsp; As shown in the picture above, I am testing with a Tympan Rev C, which includes built-in microphones (Knowles SPH1642) on its PCB.&nbsp; I also made recordings with a Sony lapel microphone (ECM-CS10) plugged into the Tympan's microphone jack.&nbsp; As a reference microphone for the calibration, I used a B&amp;K 2250 sound level meter (SLM) with its 4191 microphone element.<br /><br /><u>Setup:</u>&nbsp; I performed the recordings in our single-walled acoustic test chamber in the basement of our building.&nbsp; It is fairly quiet, though it is not as quiet at the lowest frequencies (125 Hz and below).&nbsp; As shown in the figure at the top of this post, I put the lapel microphone and the B&amp;K microphone very close to the Tympan's built-in PCB mic.<br /><br /><u>Device Configuration:</u>&nbsp; The Tympan was configured to record audio straight to its SD card as 32-bit floating point samples, switching automatically between the two microphones after a fixed interval of time.&nbsp; It was configured with an input gain of +15dB for all recordings.&nbsp; My code is on GitHub <a href="https://github.com/chipaudette/OpenAudio_blog/tree/master/2018-08-22%20Microphone%20Self-Noise/AudioLogging2_SwitchingInputs">here</a>.&nbsp; The B&amp;K SLM was configured to record its calibrated audio to its compact flash card.<br /><br /><u>Calibration:</u>&nbsp; To calibrate the microphones, I played white noise into the sound chamber.&nbsp; The B&amp;K SLM recorded the audio in calibrated units, as shown in the first plot below.&nbsp; Simultaneously, the Tympan recorded the audio (through each of the two microphones) in uncalibrated units, as shown in the second plot below.&nbsp; By comparing the raw Tympan levels with the calibrated B&amp;K levels, the bottom plot shows the sensitivity of the Tympan+microphone at each frequency.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://4.bp.blogspot.com/-BSPmYw_lJuM/W3s6l_vI__I/AAAAAAAAFJk/LkWP8PKrauY8anjODu4BRMYOcxMMR2_GgCLcBGAs/s1600/Calibration.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1041" data-original-width="676" height="640" src="https://4.bp.blogspot.com/-BSPmYw_lJuM/W3s6l_vI__I/AAAAAAAAFJk/LkWP8PKrauY8anjODu4BRMYOcxMMR2_GgCLcBGAs/s640/Calibration.png" width="412" /></a></div><div class="separator" style="clear: both; text-align: center;"></div><u><br /></u><u>Measuring Self-Noise:</u>&nbsp; Turning off the white noise stimulation, the sound chamber was very quiet. Again, the B&amp;K SLM and the Tympan made recordings from their microphones.&nbsp; My assumption is that, especially for the Tympan, the true background noise in the sound chamber was so low that the recordings will reveal the self-noise of the microphones.<br /><br /><u>Self-Noise Expressed as SPL:</u>&nbsp; The first plot below shows the raw, uncalibrated noise levels recorded by the Tympan.&nbsp; To convert these values to SPL, I need to apply the calibration data discussed above.&nbsp; There's a couple ways that I could apply the calibration.&nbsp; The middle plot shows the estimated SPL if I were to have calibrated the Tympan only at a 1 kHz, which is a common, simple way to calibrate a device.&nbsp; Alternatively, if we use the full frequency-dependent calibration for the Tympan, the bottom plot shows the estimated SPL.&nbsp; Using either calibration approach, the conclusion is the same: the Sony lapel mic has much higher self-noise than the built-in PCB mics!<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-xqBoY5-exRk/W3s6vmsBLGI/AAAAAAAAFJo/QgqBOea94nsQzgXW067diTCaMWaBN98WgCLcBGAs/s1600/SelfNoise.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1054" data-original-width="654" height="640" src="https://2.bp.blogspot.com/-xqBoY5-exRk/W3s6vmsBLGI/AAAAAAAAFJo/QgqBOea94nsQzgXW067diTCaMWaBN98WgCLcBGAs/s640/SelfNoise.png" width="396" /></a></div><u>The Microphone Matters!</u>&nbsp; Getting quantitative, I can summarize these spectra by applying an A-weighting curve and computing the broadband sound pressure level (ie, "dBA").&nbsp; From these recordings, the Tympan + Lapel Mic has a self noise equivalent to an ambient noise level of 41-43 dBA (depending upon the calibration approach).&nbsp; By contrast, the Tympan + PCB Mics show a noise level of between 27-29 dBA.&nbsp; This 14 dB difference is a big!<br /><br /><u>Conclusion:</u>&nbsp; Since low self-noise is good, the Tympan's built-in PCB microphones seem to be a better choice than this Sony lapel microphone.&nbsp; I look forward to trying other microphones to see if I can get even lower self-noise.<br /><br /><u>Follow-Up: What Self-Noise Should Be Expected?</u>&nbsp; After completing this post, I realized that I should have looked at the microphone datasheets to see what the manufacturers say about each microphone's self-noise.&nbsp; Here's what I found:<br /><br /><ul><li>For the PCB mics (<a href="https://www.knowles.com/docs/default-source/model-downloads/sph1642ht5h-1-rev-b.pdf">SPH1642</a>), the self-noise is not reported directly.&nbsp; But, they report the signal-to-noise ratio as 65 dBA when given a 1 kHz signal at 94 dB SPL.&nbsp; This means that the noise floor for the mics is (94 dB - 65 dBA) = 29 dBA.&nbsp; This is exactly the value that I found, when I used the simple calibration for 1 kHz.&nbsp; This gives me additional confidence in my measurement technique.</li><li>For the Sony lapel mic (<a href="https://docs.sony.com/release/specs/ECMCS10_mksp.pdf">ECM-CS10</a>), the noise level is reported simply as "38 dB".&nbsp; Presumably, this is A-weighted, but there is no more information provided.&nbsp; My own value (41 dBA, for single-frequency calibration) is 3 dB higher than the datasheet value.&nbsp; The cause for the difference is unknown, though the difference is modest.</li></ul><div><br /></div>
