---
layout: post
title: Microphone Self-Noise (Tympan Rev-D2)
author: Eric
image: https://3.bp.blogspot.com/-tdFG2cwKVmA/W_xKZESF8qI/AAAAAAAAHlo/eUcWjjVGEwQZAIfgBExr-emIlsNJt5VIwCLcBGAs/s400/20181116_SelfNoiseTitle.png
---


<div class="MsoNormal" style="background: white; line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in; mso-outline-level: 3;"><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 10pt;">As mentioned in a previous <a href="https://openaudio.blogspot.com/2018/08/microphone-self-noise.html" target="_blank">post</a>, it is important for hearing aids that the microphones and electronics have a low self-noise.&nbsp; Because of the amplification in a hearing aid, what might start as an innocuous amount of noise gets multiplied into a very annoying and fatiguing listening experience.&nbsp; So, for our next revision of Tympan&nbsp;</span><span style="color: #444444; font-family: arial, sans-serif; font-size: 10pt;">(Tympan Rev-D2), we're looking to further reduce the self-noise of the system.&nbsp; W</span><span style="color: #444444; font-family: arial, sans-serif; font-size: 10pt;">e are considering an on-board microphone that should offer 5dB less self-noise than the existing design (Tympan Rev-C).&nbsp; Instead of taking their word for it, let's place the Tympan mics in a super quiet room and see what happens.</span><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-tdFG2cwKVmA/W_xKZESF8qI/AAAAAAAAHlo/eUcWjjVGEwQZAIfgBExr-emIlsNJt5VIwCLcBGAs/s1600/20181116_SelfNoiseTitle.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="885" data-original-width="1193" height="296" src="https://3.bp.blogspot.com/-tdFG2cwKVmA/W_xKZESF8qI/AAAAAAAAHlo/eUcWjjVGEwQZAIfgBExr-emIlsNJt5VIwCLcBGAs/s400/20181116_SelfNoiseTitle.png" width="400" /></a></div><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 10pt;"><br /></span><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 10pt;"><u>Backstory:</u>&nbsp; The current release of Tympan is "Rev-C".&nbsp; It is a fine system, though a bit bulky.&nbsp; Rev-C is bulky because it is composed of two separate boards: the Teensy 3.6 and the Tympan audio board.&nbsp; To reduce the bulk, we've smashed them together into one board.&nbsp; This is our new "Rev-D".&nbsp; The first version (Rev-D1) is otherwise identical to Rev C -- it has the same on-PCB microphones and the same audio interface.&nbsp; It appears to have the same performance as Rev-C, which is what we expected.&nbsp; With that success, we're now trying to further improve the system by focusing on its self-noise.&nbsp; That's Rev-D2.&nbsp; For Rev-D2, we're using quieter on-PCB microphones and we've added an additional (hopefully even quieter) pre-amplifier for the mics.&nbsp; We'll see!</span><br /><br /><u style="color: #444444; font-family: arial, sans-serif; font-size: 10pt;">Goal:</u><span style="color: #444444; font-family: arial, sans-serif; font-size: 10pt;">&nbsp; Today's goal is to compare the self-noise of the new Rev-D2 to the existing Rev-C/Rev-D1.&nbsp; We expect to see that D2 is quieter, primarily due to its quieter on-PCB microphones.&nbsp;&nbsp;</span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;sans-serif&quot;; font-size: 10pt;">From the datasheet specs (below), the proposed mic should offer a significant reduction in self-noise (</span><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 13.3333px;">-5dB) (measured at 1kHz), compared to the existing mic</span><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 10pt;">.&nbsp; While comparing Rev-D2 to Rev-C/Rev-D1, we'll also compare to a laboratory grade reference microphone from B&amp;K.</span></div><div class="MsoNormal" style="background: white; line-height: normal; margin-bottom: .0001pt; margin-bottom: 0in;"><br /><div style="font-family: arial, sans-serif; margin-left: 40px;"><table border="1"><tbody><tr>    <th>Design</th>    <th>Microphone</th>    <th>Mic Sensitivity<br />dBV/Pa</th>      <th>Self-Noise<br />(dBA)</th></tr><tr>    <td>Existing Mic<br />(Rev-C/Rev-D1)</td>    <td><a href="https://www.knowles.com/docs/default-source/model-downloads/sph1642ht5h-1-rev-b.pdf?Status=Master&amp;sfvrsn=0" style="font-family: arial, sans-serif;" target="_blank">Knowles&nbsp;</a><br /><a href="https://www.knowles.com/docs/default-source/model-downloads/sph1642ht5h-1-rev-b.pdf?Status=Master&amp;sfvrsn=0" style="font-family: arial, sans-serif;" target="_blank">SPH1642HT5H-1</a></td>    <td>-38 @ 1kHz</td>      <td>29</td></tr><tr>    <td>Proposed Mic<br />(Rev-D2)</td>    <td><a href="https://www.knowles.com/docs/default-source/model-downloads/spm0687lr5h-1-datasheet-rev-ae4411a731dff6ddbb37cff0000940c19.pdf?sfvrsn=4" style="font-family: arial, sans-serif;" target="_blank">Knowles&nbsp;</a><br /><a href="https://www.knowles.com/docs/default-source/model-downloads/spm0687lr5h-1-datasheet-rev-ae4411a731dff6ddbb37cff0000940c19.pdf?sfvrsn=4" style="font-family: arial, sans-serif;" target="_blank">SPM0687LR5H-1</a></td>    <td>-32 @ 1kHz</td>      <td>24</td></tr><tr>    <td>Reference Mic</td>    <td><a href="https://www.bksv.com/-/media/literature/Product-Data/bp2212.ashx" style="font-family: arial, sans-serif;" target="_blank">B&amp;K 4191</a></td>    <td>-38 @ 250Hz</td>      <td>20</td>  </tr></tbody></table></div><h3><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif;"><span style="font-size: large;"><div style="color: black; font-family: &quot;Times New Roman&quot;; font-size: medium; font-weight: 400;"><br /></div><div>Setup</div></span></span></h3><u style="color: #444444; font-family: arial, sans-serif; font-size: 10pt;">Approach:</u><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 10pt;">&nbsp;</span><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 10pt;">The first step is calibrating each Tympan's microphone so that we know how to interpret the recorded audio.&nbsp; By calibrating each Tympan's microphone, we can express the apparent self-noise levels in terms of apparent sound pressure level (SPL), which is a good way of doing an apples-to-apples comparison across systems.&nbsp; </span><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif;"><span style="font-size: 13.3333px;">After we've calibrated the Tympan systems, we'll put the Tympan's into a quiet sound room to (hopefully) measure their self-noise.&nbsp; Ideally, the ambient noise in the sound room will be low enough to discern the self-noise of the on-board microphones.</span></span><br /><br /><u style="color: #444444; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 13px;">Hardware:</u><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">&nbsp; We used a Tympan Rev-D1 and a Rev-D2.&nbsp; W</span><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 13.3333px;">e also recorded the ambient sound levels using our laboratory-grade reference microphone, a B&amp;K 4191 along with a National Instruments data acquisition system.&nbsp; &nbsp;</span><br /><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 13.3333px;"><br /></span><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif;"><u style="font-size: 13.3333px;">Gain Settings:</u><span style="font-size: 13.3333px; font-style: italic;">&nbsp;</span><span style="font-size: 13px;">In addition to the new microphone on Rev-D2, t</span></span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13.3333px;">he</span><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 13.3333px;">&nbsp;Rev-D2 also features a new preamp between the microphone and the Tympan's audio interface chip (a TI AIC3206).&nbsp; The pre-amp provides about 15 dB of additional gain via an amplifier that we believe to be quieter than the programmable gain in the AIC3206.&nbsp; Therefore, for the testing with the Rev-D2, we turned down the gain on the AIC3206 by 15 dB, which should make the overall gain between the Rev-D1 and Rev-D2 about the same.&nbsp;&nbsp;</span><br /><span style="color: #444444; font-family: &quot;arial&quot; , sans-serif; font-size: 13.3333px;"><br /></span><u style="color: #444444; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 13px;">Physical Setup:</u><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">&nbsp;The sound recordings were made in a single-walled, acoustic test chamber, which is fairly quiet above&nbsp; 125 Hz.&nbsp; As shown in the figure at the top of this post, the lab-grade B&amp;K microphone was positioned 1" above the Tympan's on-board PCB mic so that it is placed along the same axis as the mic under test.&nbsp;&nbsp;</span><br /><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;"><br /></span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;"><u>Tympan Setup.</u>&nbsp; The Tympans were configured to record from their on-PCB microphones.&nbsp; They were configured to use a sample rate of 44.1 kHz and to write their raw audio data straight to the Tympan's SD card.&nbsp; The Tympan Arduino code is <a href="https://github.com/chipaudette/OpenAudio_blog/tree/master/2018-11-26%20RevD1%20vs%20RevD2/Arduino/20181112_Calibration">here </a>on GitHub.&nbsp; The Tympans were running on their battery power.</span><br /><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;"><br /></span><br /><h3><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif;"><span style="font-size: large;">Calibration</span></span></h3><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">To calibrate the microphones across a wide frequency spectrum (125Hz-22kHz), white noise was created in an audio effects editor and played through</span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">&nbsp;4 speakers in</span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">&nbsp;the sound room.&nbsp; The speakers were pointed in different directions to create a diffuse, rather than directional, sound field.</span><br /><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;"><br /></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/--YQgeXY9wU8/W_xO0OQGaII/AAAAAAAAHl0/qZ2rHb3jaHg_Neq80Xv5LqQpsnK6YsCYACLcBGAs/s1600/20181112_163410.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em; text-align: center;"><img border="0" data-original-height="467" data-original-width="1600" src="https://3.bp.blogspot.com/--YQgeXY9wU8/W_xO0OQGaII/AAAAAAAAHl0/qZ2rHb3jaHg_Neq80Xv5LqQpsnK6YsCYACLcBGAs/s1600/20181112_163410.jpg" width="500" /></a></div><br /><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;"><br /></span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">To define the Tympan's frequency response from 125Hz to 16kHz, the Tympan output was filtered by octave-bands, then the RMS value was taken and converted to a dB log scale that references the Tympan's F</span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">ull Scale Output (+1.0)</span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">.</span><br /><br /><div style="margin-left: 40px;"><img align="middle" border="0" class="center" src="https://latex.codecogs.com/gif.latex?TympanOutput_{dBFS}=20\,log_{10}\left(\frac{TympanOutput}{FullScaleOutput}\right)" /></div><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;"><br /></span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">Sensitivity for a digital microphone is often reported as the output at 94dB SPL (i.e. 1 Pa), compared to its full-scale output</span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">:</span><br /><div style="margin-left: 40px;"><img border="0" iv="" src="https://latex.codecogs.com/gif.latex?TympanOutput@94dB\,SPL=\frac{TympanOutput}{RefMicOutput_{Pa}}*1Pa" /></div><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;"><br /></span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">This sensitivity can be rephrased in terms of the dB log scale:</span><br /><div style="margin-left: 40px;"><img src="https://latex.codecogs.com/svg.latex?TympanOutput_{dB\,FS}@94dB\,SPL=" /></div><div style="margin-left: 80px;"><img src="https://latex.codecogs.com/svg.latex?TympanOutput_{dB\,FS}-RefMicOutput_{dB\,SPL}+94dB\,SPL" /></div><br /><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">The figure below shows the raw microphone response and the derived sensitivity.&nbsp; At 1kHz, the proposed microphone (D2) is less sensitivity (-1.8dB) than the existing microphone (D1), which is expected.</span><br /><br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-IrNQVRxrlVQ/W_x4ZJIb9rI/AAAAAAAAHno/C33hyNnAyxAFg9KIskDbFqiVc5rKd4dhgCLcBGAs/s1600/Raw%2BMic%2BRsponse%2Bto%2BWhite%2BNoise_Sensitivity.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="650" data-original-width="827" src="https://2.bp.blogspot.com/-IrNQVRxrlVQ/W_x4ZJIb9rI/AAAAAAAAHno/C33hyNnAyxAFg9KIskDbFqiVc5rKd4dhgCLcBGAs/s1600/Raw%2BMic%2BRsponse%2Bto%2BWhite%2BNoise_Sensitivity.png" width="500" /></a></div><div class="separator" style="clear: both; text-align: center;"></div><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;"></span> <br /><h3><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: large;">Self-Noise</span></h3><div><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif;"><span style="font-size: 13px;">Now that the microphones are calibrated, we can take a recording of a quiet sound room with the mics under test and relate that to an equivalent sound pressure level.&nbsp; The same analysis was applied as before: the recording was filtered into octave bands then the RMS value was taken for each band.</span></span><br /><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif;"><span style="font-size: 13px;"><br /></span></span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif;"><span style="font-size: 13px;">From the figure below, the proposed mic shows a 1.5dB reduction in self-noise at 1kHz, compared to the existing mic.&nbsp;&nbsp;</span></span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">&nbsp;We can also report the A-weighted average by applying a correction to the RMS value for each octave band (as described&nbsp;</span><a href="https://www.cirrusresearch.co.uk/blog/2013/02/calculation-of-dba-from-octave-band-sound-presssure-levels/" style="font-family: arial, tahoma, helvetica, freesans, sans-serif; font-size: 13px;" target="_blank">here</a><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">).&nbsp; That shows a&nbsp;</span><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: 13px;">1.7dB reduction in A-weighed self-noise.</span><br /><div class="separator" style="clear: both; text-align: center;"></div><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif;"><span style="font-size: 13px;"><br /></span></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-pEjSSggt-cc/W_2D2NiaewI/AAAAAAAAHoM/m2KlnXyTQuwbrVi2uN93-6LXM272gpo2QCLcBGAs/s1600/Quiet%2BSoundbooth_Cal%2BFull%2BRange.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="678" data-original-width="1600" src="https://2.bp.blogspot.com/-pEjSSggt-cc/W_2D2NiaewI/AAAAAAAAHoM/m2KlnXyTQuwbrVi2uN93-6LXM272gpo2QCLcBGAs/s1600/Quiet%2BSoundbooth_Cal%2BFull%2BRange.png" width="500" /></a></div><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif;"><span style="font-size: 13px;"><br /></span></span><br /><h3><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif; font-size: large;">Conclusion</span></h3><div><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif;"><span style="font-size: 13px;">The self-noise of the proposed microphone offers a small improvement in self-noise (2dB) which is less than that expected from the datasheets (5dB).&nbsp; As a follow-up, it will be interesting to see if this is due to the thermal noise of the microphone, or self-noise in the front-end electronics.</span></span><br /><span style="color: #444444; font-family: &quot;arial&quot; , &quot;tahoma&quot; , &quot;helvetica&quot; , &quot;freesans&quot; , sans-serif;"><span style="font-size: 13px;"><br /></span></span></div><div></div></div></div>
